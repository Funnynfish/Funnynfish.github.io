const r = data[i];
      const g = data[i + 1];
      const b = data[i + 2];

      // near-white detection (safe for confetti)
      if (r > 240 && g > 240 && b > 240) {
        data[i + 3] = 0; // make transparent
      }
    }

    ctx.putImageData(imageData, 0, 0);
  }

  function download() {
    const link = document.createElement("a");
    link.download = "twitch-image.png";
    link.href = canvas.toDataURL("image/png");
    link.click();
  }
</script>

</body>
</html>
